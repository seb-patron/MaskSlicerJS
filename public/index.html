<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title></title>


    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <script src="http://cdnjs.cloudflare.com/ajax/libs/fabric.js/1.7.2/fabric.min.js"></script>
   
  </head>
  <body>
  
  <canvas id="target" width="800px" height="400px" style="margin: auto"></canvas>
  
  <script>
  
      
      var mask = new Image(), bg = new Image();
            
      mask.src = "./masks/mask2.png";
      bg.src = "./images/kanye4.jpg";
      
      
      var canvas = document.createElement("canvas"), ctx = canvas.getContext('2d');
      var target = document.getElementById("target"), targetCtx = target.getContext('2d');
      
      mask.addEventListener('load', function() {    
        var l = (bg.width / 2) - (mask.width / 2), t = (bg.height / 2) - (mask.height / 2);
        
        canvas.width = bg.width;
        canvas.height = bg.height;
        
        ctx.drawImage(mask, l, t);
        ctx.globalCompositeOperation = "source-in";
        ctx.drawImage(bg, 0, 0);
                
        var imageData = ctx.getImageData(l, t, mask.width, mask.height);                                       
        targetCtx.putImageData(imageData, 50, 50);  
      });
  
  </script>
  
  </body>
</html>